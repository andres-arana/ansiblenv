---
- name: Install vim
  apt: name=vim-gtk state=latest
  become: yes

- name: Install software dependencies for what we use with vim
  apt: name={{item}} state=latest
  become: yes
  with_items:
    - silversearcher-ag
    - build-essential
    - cmake
    - python-dev

- name: Clone the vim dotfiles repository
  git: repo=https://andres-arana@github.com/andres-arana/dotfiles-vim.git dest=~/.vim

- name: Link vimrc to the cloned versions
  file: src=~/.vim/vimrc dest=~/.vimrc state=link force=yes

- name: Create vim.d directory
  file: path=~/.vim.d state=directory

